1 - Создания реалма
- Перейдите по URL-адресу административной консоли Keycloak.
- В главном меню консоли (справа от логотипа Keycloak), выберите выпадающий список «Реалмы» (или «Realms»).
- Нажмите на кнопку «Создать реалм» (или «Create Realm»), которая обычно находится в верхней части экрана.
- Введите имя реалма:
        В поле «Имя» (или «Realm Name») введите уникальное имя для нового реалма. 
        Это имя будет использоваться для идентификации реалма и должно быть уникальным среди всех реалмов в вашем Keycloak.
  Выберите тип конфигурации:
        В некоторых случаях вы можете выбрать между «Пустой» (или «Empty») конфигурацией или импортировать конфигурацию из другого реалма.
        Для создания нового реалма с нуля выберите «Пустой».
        Нажмите на кнопку «Создать» (или «Create») после заполнения необходимых полей. Это действие создаст новый реалм.
2. Конфигурация нового реалма
- После создания реалма вы будете перенаправлены на страницу нового реалма.
- Для работы с реалмом необходимо настроить основные параметры реалма:
    - «Клиенты» (или «Clients»): добавьте и настройте клиентов, которые будут использовать этот реалм.
        Для создания нового клиента необходимо перейти в левом меню в раздел клиенты (или «Clients»), 
        В открывшимся окне есть кнопка создать клиента (или «Create Client»)
        При создании нового клиента (или «Clients») вам необходимо настроить основные параметры клиента такие как :
            - (Client ID) Дать имя клиенту 
            - (Client authentication) Необходимо переключить галочку на («ON») как и галочку («Authorization»), 
            они играют ключевые роли в управлении доступом и безопасности.
            - (Authentication flow) необходимо поставить галочки в («Standard flow»), («Direct access grants»), 
            («OAuth 2.0 Device Authorization Grant»)
            - В разделе (Login settings) можно настроить разрешённые URL, 
            Valid redirect URIs можно прописать URL * для разрешения к переадресации на любые URLs
            - Остальные параметры являются не обязательными или их использование ситуативно 
    - «Атрибуты» для создания новых атрибутов пользователя необходимо в правом меню перейти в «Realm settings» (Находится в нижней части меню)
        В открывшимся окне в вернем меню найти раздел «User Profile» и нажать на кнопку («Create attribute)
        Обязательные поля для заполнения:
            - Attribute [Name] имя/название атрибута
            - Permission (Who can edit?, Who can view?) Данная настройка указывает на то кто может изменять или просматривать данный атрибут
            - Validations тут можно указать ограничения атрибута (например длина стоки или символов и т.д)
            - Остальные параметры являются не обязательными или их использование ситуативно     
    - «Пользователи» (или «Users»): добавьте и управляйте пользователями, которые будут аутентифицироваться в этом реалме.
        - Для добавления пользователей необходимо перейти в раздел пользователи или (или «Users») и нажать на кнопку («Create new User»), 
        в открывшихся полях вводим основные данные о пользователе и нажимаем создать (или «Create»)
        - Для создания пороля для пользователя необходимо в разделе пользователи (или «User») перейти в настройки пользователя,
         и в верхнем меню в поле («Credentials») создать пароль. 
--------!! Внимания !! Если вам необходимо установить постоянный пароль измените переключать на позицию (OFF) в (Temporary)---------
        - «Роли» (или «Roles»): создайте роли и настройте права доступа.
        - «Группы» (или «Groups»): создавайте и управляйте группами пользователей.
3. Вывод атрибутов в токене
    - Для получения данных о атрибутах пользователя из токена необходимо создать для них Mapper 
    - Для создания Mapper необходимо в правом меню перейти в «Clients» дальше перейти в созданный вами клиент
    далее в верхнем меню переходим в раздел «Client Scopes» и в открывшимся меню переходим в («myrealm-dedicated»)
    - Для создания Mapper в открывшимся окне нажимаем кнопку («Create Mapper») и открывшимся списке выбераем («By Configuration»)
    В списке выбираем («User Attribute»), дпльше необходимо дать имя и выбрать какой атрибут будет выведен в токене 
    (Name, User Attribute,Token Claim Name) так же необходимо проверить наличие переключателей на позиции «ON» на 
    (Add to ID token, Add to access token, Add to userinfo, Add to token introspection)
    - Параметр «Claim JSON Type» оставляем в позиции «String»
    - Такие действие выполняем для каждого атрибута пользователя дя вывода их в токене пользователя 
4. Разрешения (или «Permission»)
- Для создания разрешений необходимо создать хотя бы одну роль, для создания роли в правом меню Перейдите в «Realm Roles» и создайте роль
    - Для создания атрибутов необходимо в правом меню перейти в «Clients» и в открывшимся окне в верхнем меню перейти на («Authorization»)
    В данном разделе проводится создание, проверка и настройка разрешений (или «Permission»)
- Для создании разрешений необходимо создать - Scope, Resources, Policies и только потом Permission желательно создавать все в том же порядке как и прописано
    - Создание Scope переходим в раздел Scope и нажимаем на кнопку (Create authorization Scope) и задаем имя Scope
    - Создание Resources переходим в раздел Resources и нажимаем на кнопку (Create Resources) задаем (Name, Display name, Authorization scopes)
    Остальные параметры являются не обязательными или их использование ситуативно 
    - Создание Policies переходим в раздел Policies и нажимаем на кнопку (Create client policy) из появившегося списка выбираем «Role» 
    задаем (Name и Roles) где в разделе роли необходимо указать роли которые будут иметь доступ к разрешениям
    - Создание Permission переходим в раздел Permission и нажимаем на кнопку (Create Permission) и из списка выбираем «Create scope-based Permission» 
    задаем (Name, Resource, Authorization scopes, Policies) все данные кроме имени, уже есть на основе раннее созданных параметров
    Остальные параметры являются не обязательными или их использование ситуативно

        
    


